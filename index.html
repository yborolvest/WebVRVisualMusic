<!doctype html>
<html>
<head>
<title>AudioVisualiser</title>
<script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
<script src="https://unpkg.com/aframe-audioanalyser-component@^3.0.3/dist/aframe-audioanalyser-component.min.js"></script>
<script src="./components/scale-y-color.js"></script>
<script src="./components/audioanalyser-levels-scale.js"></script>
<script src="./components/audioanalyser-waveform.js"></script>
<script src="./components/audioanalyser-volume-scale.js"></script>
<script src="./components/audioanalyser-volume-bind.js"></script>
<script src="lib/annyang.min.js"></script>
<script src="build.js"></script>
<script src="./components/ring-on-beat.js"></script>
<script src="./components/color-on-beat.js"></script>
</head>
<body>
<a-scene antialias="true">
  <a-assets>
    <audio id="song" autoplay loop src="Minoru - 187  Copyright Free ELECTRO SWING.mp3"></audio>
  </a-assets>
  <a-entity id="analyser" audioanalyser="src: #song" audioanalyser-waveform="radius: 0.5;" rotation="0 0 0" position="0 0 -50"></a-entity>
  <a-entity id="analyser2" audioanalyser="src: #song" audioanalyser-waveform="radius: 0.5;" rotation="0 180 0" position="0 0 50"></a-entity>
  <a-light type="ambient" color="#222"></a-light>
  <a-light
        audioanalyser-volume-bind="analyserEl: #analyser; component: light; property: intensity; max: .5; multiplier: .018"
        type="point"
        position="1 2 1"
      ></a-light>
  <a-entity position="0 1.6 -10" audioanalyser-volume-scale="analyserEl: #analyser; component: geometry; property: scale; max: 1.6; multiplier: .018" color-on-beat="analyserEl: #analyser">
    <a-entity material="color: purple" geometry="primitive: dodecahedron; width: 1;" color-on-beat="analyserEl: #analyser">
      <a-animation attribute="rotation" from="0 0 0" to="360 360 360" easing="linear" repeat="indefinitely" dur="20000"></a-animation>
    </a-entity>
  </a-entity>
  <a-light type="point" position="-2 2 1"></a-light>
  <a-sky color="#111"></a-sky>
  <a-entity id="ground"
        geometry="primitive: circle; radius: 30"
        rotation="-90 0 0"
        material="src: #floor"
      ></a-entity>
</a-scene>
</body>
</html>
